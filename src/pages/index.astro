---
import demoVideo from '@/assets/hexecute_demo.mp4';
import Dock from '@/components/Dock';
import GlassCard from '@/components/GlassCard.astro';
import HexecuteCanvas from '@/components/HexecuteCanvas.astro';
import Layout from '@/layouts/Layout.astro';
import Record from '@/components/Record.svelte';
import { BackgroundBeams } from '@/components/ui/background-beams';
import { Spotlight } from '@/components/ui/spotlight-new';
import { DriftingVideo } from '@/components/DriftingVideo';
---

<Layout>
    <section
        class="relative flex h-dvh cursor-none flex-col items-center justify-center overflow-hidden bg-black/98"
    >
        <BackgroundBeams client:load />
        <Spotlight client:load />
        <DriftingVideo client:only="react" src={demoVideo} />
        <HexecuteCanvas />

        <GlassCard class="pointer-events-none">
            <h1 class="text-center font-bold tracking-tight text-white">
                Cast <mark>spells</mark>
                <br />
                on your desktop.
            </h1>
        </GlassCard>

        <Dock client:load />
    </section>

    <Record client:load />
</Layout>

<style>
    h1 {
        font-size: clamp(2rem, 10vw, 3.75rem);
    }

    mark {
        background: linear-gradient(
            to right,
            #6366f1,
            #a855f7,
            #ec4899,
            #eab308,
            #22c55e,
            #3b82f6,
            #6366f1
        );
        background-size: 200% auto;
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        color: transparent;
        animation: shine 8s linear infinite;
        background-color: transparent;
    }

    @keyframes shine {
        to {
            background-position: 200% center;
        }
    }
</style>
